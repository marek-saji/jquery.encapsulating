@charset "utf-8";
/* vim: set ft=css fdm=indent: */

@border-w: thin;
@border-r: .2em;
@space: .1em;
@bg-color: white;
@item-color: #BFD7F0;

.encapsulating-textarea
{
    .round-border(@radius: @border-r)
    {
        border-radius: @radius;
        -moz-border-radius: @radius;
        -webkit-border-radius: @radius;
    }

    .resize(@val: auto)
    {
        resize: @val;
        -moz-resize: @val;
    }


    /* pretend to be a textarea */
    -webkit-appearance : textfield;
    -moz-appearance    : textfield;
    display            : block;
    overflow           : auto;
    cursor             : text;
    .resize(auto);

    /* for these unfortunate browsers */
    &.lacking-appearance
    {
        background-color : @bg-color;
        border           : black solid thin;
    }

    &.focus
    {
        /*
        outline-color: Highlight solid thin;
        */
        /* webkit glow */
        outline-offset : -2px;
        outline        : 5px auto -webkit-focus-ring-color;
    }

    &.debug
    {
        background-color: #ddd;
    }

    a,
    .encapsulating_input_wrapper,
    input
    {
        display: block;
        float: left;
        margin:  @space;
        padding: @space;
        line-height: 1 + 2*@space;
        border: none;
        outline: none;
        font-size: 1em;
    }

    a
    {
        color: inherit;
        text-decoration: none;
        background-color: @item-color;
        border: #616C5E solid @border-w;
        white-space: nowrap;
        .round-border;
        cursor: text;

        &:hover
        {
            background-color: @item-color - #111;

            .remove
            {
                color: inherit;
            }
        }

        &:focus,
        &:active
        {
            background-color: @item-color + #222;
        }

        .remove
        {
            cursor: default;
            font-size: .8em;
            color: #666;
            margin-left: .25em;
        }
    }

    .encapsulating_input_wrapper
    {
        max-width: 90%; /* unsafe setting, this should left space for INPUT_SIZER_SUFFIX */
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;

        .encapsulating_input_sizer
        {
            height: 0;
            max-width: 90%; /* unsafe setting, this should left space for INPUT_SIZER_SUFFIX */
            overflow: hidden;
            display: block;
            white-space: pre;
        }

        input.encapsulating_input
        {
            border: @bg-color solid @border-w;
            background-color: @bg-color;
            .resize(none);
            width: 100%;
        }
    }
}

